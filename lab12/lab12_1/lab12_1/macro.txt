PUSHR MACRO RG
	IRP REG, <RG>
		IFIDN <REG>, <F>
			PUSHF
		ELSE
			PUSH REG
		ENDIF
	ENDM
ENDM   

POPR MACRO RG
	IRP REG, <RG>
		IFIDN <REG>, <F>
			POPF
		ELSE
			POP REG
		ENDIF
	ENDM
ENDM

XCHG_B MACRO A,B
	XCHG AL, A
	XCHG AL, B
	XCHG AL, A
ENDM

XCHG_W MACRO A,B
	XCHG AX, A
	XCHG AX, B
	XCHG AX, A
ENDM

XCHG_DW MACRO A,B
	XCHG EAX, A
	XCHG EAX, B
	XCHG EAX, A
ENDM
